// SPDX-License-Identifier: MIT
pragma solidity ^0.8.24;

import "@openzeppelin/contracts/access/Ownable.sol";
import "@openzeppelin/contracts/utils/structs/EnumerableSet.sol";

contract SpecialOfferManager is Ownable {
    using EnumerableSet for EnumerableSet.UintSet;
    
    enum OfferType { FLASH, STAGNANT_POOL }
    struct SpecialOffer { uint256 offerId; OfferType offerType; string name; bool isActive; }
    
    mapping(uint256 => SpecialOffer) public offers;
    EnumerableSet.UintSet private activeOfferIds;
    uint256 public nextOfferId;
    
    constructor() { }
    
    // FONCTION CREATEOFFER - LA SEULE NÃ‰CESSAIRE
    function createNewOffer(OfferType offerType, string memory name) external onlyOwner returns (uint256) {
        uint256 offerId = nextOfferId++;
        offers[offerId] = SpecialOffer(offerId, offerType, name, true);
        activeOfferIds.add(offerId);
        return offerId;
    }
    
    function _createExampleOffers() internal {
        createNewOffer(OfferType.FLASH, "Example 1");
        createNewOffer(OfferType.FLASH, "Example 2");
    }
    
    function createStagnantPoolOffer(uint256 poolId) external onlyOwner returns (uint256) {
        return createNewOffer(OfferType.STAGNANT_POOL, "Stagnant Pool Offer");
    }
}